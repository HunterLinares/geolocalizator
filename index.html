<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Enviar mi ubicación</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    input, button { margin-top: 10px; padding: 8px; width: 100%; max-width: 400px; }
    #ubicacion { margin-bottom: 20px; }
  </style>
</head>
<body>
  <h1>Compartir mi ubicación</h1>
  <p id="ubicacion">Obteniendo ubicación...</p>

  <form id="formulario" action="https://formspree.io/f/xqalwaqy" method="POST">
    <input type="text" name="nombre" placeholder="Tu nombre" required>
    <input type="hidden" name="message" id="mensaje">
    <button type="submit">Enviar ubicación</button>
  </form>

  <script>
    navigator.geolocation.getCurrentPosition(function(pos) {
      const lat = pos.coords.latitude;
      const lon = pos.coords.longitude;
      const link = `https://www.google.com/maps?q=${lat},${lon}`;
      document.getElementById("ubicacion").innerHTML = `
        <strong>Latitud:</strong> ${lat}<br>
        <strong>Longitud:</strong> ${lon}<br>
        <a href="${link}" target="_blank">Ver en Google Maps</a>
      `;
      document.getElementById("mensaje").value = `Ubicación actual:\n${link}`;
    }, function(error) {
      document.getElementById("ubicacion").innerText = "No se pudo obtener la ubicación.";
    });
  </script>
</body>
</html>
